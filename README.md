# Домашнее задание к занятию «Уязвимости и атаки на информационные системы» - Юрий Белобородов


### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
*Приведите ответ в свободной форме.*  

Ответ:

- Какие сетевые службы в ней разрешены?

![1-1_services.png](https://github.com/Zikin18/SYS-25_13.01/blob/master/1-1_services.png)

- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)

1. 2121/tcp open  ftp ProFTPD 1.3.1 
    https://www.exploit-db.com/exploits/32798
    Позволяет манипулировать запросами, что может привести к не санкционированному доступу.
2. 53/tcp   open  domain      ISC BIND 9.4.2
    https://www.exploit-db.com/exploits/37721
    Посылает запрос который может привети к крашу сервера
3. 21/tcp   open  ftp         vsftpd 2.3.4
    https://www.exploit-db.com/exploits/17491
    Содержит описанный бекдор


### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?

*Приведите ответ в свободной форме.*

Ответ: 

Для записи лога соединений использовалась утилита `tshark`

```
sudo tshark -i enp0s8 -Y "ip.addr==192.168.56.107"
```

1. `SYN` - сканирование с флагом `-sS`

Отправляет пакет с флагом `SYN`.
Если хост отвечает `SYN/ACK`
Если порт закрыт хост отправляет в ответ `RST`.
Если после нескольких запросов ответа нет то порт помечается как фильтруемый.

![2-1_syn.png](https://github.com/Zikin18/SYS-25_13.01/blob/master/2-1_syn.png)

Отличительной особенностью данного метода сканирования является то что имеется возможность точно установить состояние порта - открыт, закрыт или фильтруется. 

2. `FIN` - сканирование с флагом -sF

Отправляет пакет с флагом `FIN` 
Если порт закрыт то хост отправляет в ответ `RST`
Если в ответ приходит `ICMP` то порт помечается фильтрующимся.

![2-2_fin.png](https://github.com/Zikin18/SYS-25_13.01/blob/master/2-2_fin.png)

3. `Xmas` - сканирование с флагом `-sX`

Отправляет пакет с установленными флагами `URG`, `PSH`, `FIN`.
Если порт закрыт то хост отправляет в ответ `RST`
Если в ответ приходит `ICMP` то порт помечается фильтрующимся.

![2-3_xmas.png](https://github.com/Zikin18/SYS-25_13.01/blob/master/2-3_xmas.png)

4. `UDP` - сканирование с флагом `-sU`

Отправляет пустые UDP пакеты (никакие флаги не установлены). 
Если ответа нет после нескольких попыток то предполагается что порт открыт или фильтруется.
Если порт закрыт то хост отвечает `ICMP` пакетом.
Данный тип сканирования является очень медленным так как многие хосты ограничивают колличество `ICMP` в единицу времени. Nmap обнаруживает такие ограничения и уменьшает колличество запросов. 

![2-4_udp.png](https://github.com/Zikin18/SYS-25_13.01/blob/master/2-4_udp.png)
